from aiogram import Bot, Dispatcher, executor, types

bot = Bot(token='#########')
dp = Dispatcher(bot)

@dp.message_handler(commands=['start'])
async def start(message: types.Message):
    markup = types.ReplyKeyboardMarkup(row_width=1, resize_keyboard=True)
    student = types.KeyboardButton('–Ø - —Å—Ç—É–¥–µ–Ω—Ç üßë‚Äçüíª')
    admin = types.KeyboardButton('–Ø - –ë–æ–≥. –Ø - –¶–∞—Ä—å. –Ø - ADM üëë')
    markup.add(student)
    markup.add(admin)
    await message.reply('–ü—Ä–∏–≤–µ—Ç, {}! üëã \n'
                    '–Ø –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–π –±–æ—Ç –¥–ª—è –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π –≤ –®–∫–æ–ª–µ 21!'
           '–†–∞—Å—Å–∫–∞–∂–∏ –º–Ω–µ –∫—Ç–æ —Ç—ã, –∏ —è –ø–æ–º–æ–≥—É —Ç–µ–±–µ.'.format(message.from_user.first_name),
           reply_markup=markup, reply=False)

@dp.message_handler(commands=['help'])
async def helper(message: types.Message):
    await message.reply("‚ñ∂Ô∏è –î–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã —Å –±–æ—Ç–æ–º –∏–ª–∏ –µ–≥–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –≤–≤–µ–¥–∏—Ç–µ /start\n"
                        "‚è™ –î–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –≤–≤–µ–¥–∏—Ç–µ /menu", reply=False)

@dp.message_handler(commands=['menu'])
async def menu(message: types.Message):
    markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
    btn1 = types.KeyboardButton('–Ø - —Å—Ç—É–¥–µ–Ω—Ç üßë‚Äçüíª')
    btn2 = types.KeyboardButton('–Ø - –ë–æ–≥. –Ø - –¶–∞—Ä—å. –Ø - ADM üëë')
    markup.add(btn1)
    markup.add(btn2)
    await message.reply('–í—ã–±–µ—Ä–∏ —Å–≤–æ—é —Ä–æ–ª—å: ',
                        reply_markup=markup, reply=False)


@dp.message_handler(commands=['geocheck'])
async def checkingeo(message: types.Message):
    markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
    geo = types.KeyboardButton('–û—Ç–ø—Ä–∞–≤–∏—Ç—å –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é', request_location=True)
    markup.add(geo)
    await message.reply('–î–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏—è –Ω–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–∏ - –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –≤–∞—à—É –≥–µ–æ–ø–æ–∑–∏—Ü–∏—é üìç',
                        reply_markup=markup, reply=False)

@dp.message_handler(commands=['promocheck'])
async def checkinpromo(message: types.Message):
    await message.reply('–í–≤–µ–¥–∏ –ø—Ä–æ–º–æ–∫–æ–¥:\n', reply=False) #67890


@dp.message_handler(content_types=["location"])
async def location(message):
    if message.location is not None:
        print("latitude: %s; longitude: %s" % (message.location.latitude, message.location.longitude))
        if abs(message.location.latitude - 55.79718732489479) > 0.03 or \
            abs(message.location.longitude - 37.57926199052905) > 0.03:
            await bot.send_message(message.from_user.id, "‚ùå –ü—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ –Ω–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ")
        else:
            await bot.send_message(message.from_user.id, "‚úÖ –ü—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ!")

@dp.message_handler(content_types=['text'])
async def func(message: types.Message):
    if message.text == '–Ø - —Å—Ç—É–¥–µ–Ω—Ç üßë‚Äçüíª':
        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
        btn1 = types.KeyboardButton('üëÄ –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è—Ö')
        btn2 = types.KeyboardButton('üëå –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ –Ω–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–∏')
        markup.add(btn1)
        markup.add(btn2)
        await message.reply('–Ø –ø–æ–º–æ–≥—É —Ç–µ–±–µ —Å–¥–µ–ª–∞—Ç—å –¥–æ—Å—É–≥ –≤ –®–∫–æ–ª–µ 21 –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–º!\n'
                      '–ß—Ç–æ –±—ã —Ç—ã —Ö–æ—Ç–µ–ª —Å–¥–µ–ª–∞—Ç—å?',
             reply_markup=markup, reply=False)
    elif message.text == "üëÄ –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è—Ö":
        await message.reply("–ü–æ–∫–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π –Ω–µ—Ç.", reply=False)
    elif message.text == "üëå –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ –Ω–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–∏":
        await message.reply('–î–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–æ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –≤–≤–µ–¥–∏—Ç–µ /geocheck\n'
                            '–î–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —É—á–∞—Å—Ç–∏—è –ø–æ –ø—Ä–æ–º–æ–∫–æ–¥—É –≤–≤–µ–¥–∏—Ç–µ /promocheck',
                            reply=False)
    elif message.text == '–Ø - –ë–æ–≥. –Ø - –¶–∞—Ä—å. –Ø - ADM üëë':
        await message.reply('–î–∞–≤–∞–π –∫–∞ —É–±–µ–¥–∏–º—Å—è. –í–≤–µ–¥–∏ –ø–∞—Ä–æ–ª—å:\n', reply=False) #12345
    elif message.text == '12345':
        markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
        adm1 = types.KeyboardButton('üëÄ –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è—Ö')
        adm2 = types.KeyboardButton('–ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∑–∞–ø–∏—Å–∏ –Ω–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è')
        markup.add(adm1)
        markup.add(adm2)
        await message.reply('–ß–µ–≥–æ –∂–µ–ª–∞–µ—Ç–µ, –º–∏–ª–æ—Ä–¥?',
             reply_markup=markup, reply=False)
    elif message.text == '67890':
        await message.reply('‚úÖ –ü—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ!', reply=False)
    else:
        await message.reply('–í–≤–µ–¥–µ–Ω–∞ –Ω–µ–≤–µ—Ä–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –∏–ª–∏ –∫–æ–¥. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞!ü§∑', reply=False)

if __name__ == '__main__':
  executor.start_polling(dp)
